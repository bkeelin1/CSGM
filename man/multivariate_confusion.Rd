% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{multivariate_confusion}
\alias{multivariate_confusion}
\title{Multivariate Confusion Matrix Analysis}
\usage{
multivariate_confusion(
  predicted,
  observed,
  by_variable = FALSE,
  var_names = NULL
)
}
\arguments{
\item{predicted}{A matrix or data frame containing the predicted classifications.}

\item{observed}{A matrix or data frame containing the observed (true) classifications.
Must have same dimensions as \code{predicted}.}

\item{by_variable}{Logical; if TRUE, computes separate confusion matrices for
each variable. Default is FALSE.}

\item{var_names}{Character vector of variable names. If NULL, will use column
names from input or generate sequential names.}
}
\value{
Returns an object of class "mv_confusion" containing:
\itemize{
\item overall: Overall confusion matrix combining all variables
\item by_variable: List of confusion matrices for each variable (if by_variable = TRUE)
\item summary: List containing basic analysis information (number of variables,
observations, variable names)
}
}
\description{
Creates confusion matrices for multivariate categorical data, supporting both
matrices and data frames as input. Handles multiple categorical response
variables simultaneously and provides comprehensive confusion matrix statistics.
}
\details{
Compute Confusion Matrices for Multivariate Factor Data

The function handles multiple categorical variables by:
\itemize{
\item Automatically standardizing factor levels across predicted and observed values
\item Creating combined states for overall confusion matrix analysis
\item Supporting both factor and character inputs
\item Providing comprehensive error handling and informative messages
}
}
\examples{
\dontrun{
# Example data
n <- 100

# Generated sample data
observed_data <- data.frame(
  var1 = factor(sample(c("A", "B", "C"), n, replace = TRUE)),
  var2 = factor(sample(c("0", "1"), n, replace = TRUE))
)

# Create predicted data with some deliberate mistakes
predicted_data <- data.frame(
  var1 = factor(sample(c("A", "B", "C"), n, replace = TRUE)),
  var2 = factor(sample(c("0", "1"), n, replace = TRUE))
)

# Compute confusion matrices
results <- multivariate_confusion(
  predicted = predicted_data,
  observed = observed_data,
  by_variable = TRUE
)

# Print overall results
print(results)

# Access individual variable results
print(results$by_variable$var1)
print(results$by_variable$var2)

}
}
\references{
Kuhn, M. (2008). Building Predictive Models in R Using the caret Package.
Journal of Statistical Software, 28(5), 1-26.

Powers, D. M. W. (2011). Evaluation: From Precision, Recall and F-Factor to ROC,
Informedness, Markedness & Correlation. Journal of Machine Learning Technologies,
2(1), 37-63.
}
\seealso{
\code{\link[caret]{confusionMatrix}} for the underlying confusion matrix computation

\code{\link[stats]{factor}} for factor handling
}
\author{
Keeling et al., 2025
}
\keyword{internal}
